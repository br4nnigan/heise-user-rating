/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/Static.js/Static.js":
/*!******************************************!*\
  !*** ./node_modules/Static.js/Static.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var Static = function(){};\r\n\tStatic.version = \"0.2.5\";\r\n\tStatic.debug = 0;\r\n\r\nStatic.each = function (elements, callbackFN) {\r\n\tif ( Static.isArrayLike(elements) ) {\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tif ( callbackFN(elements[i], i, elements)) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t} else if ( elements !== null && typeof elements == \"object\" && !Array.isArray(elements) && Object.keys(elements).length ) {\r\n\r\n\t\tfor (key in elements) {\r\n\t\t\tif (elements.hasOwnProperty(key)) {\r\n\t\t\t\tcallbackFN( elements[key], key, elements );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nStatic.map = function (elements, callbackFN) {\r\n\tif (  Static.isArrayLike(elements) ) {\r\n\t\treturn Array.prototype.map.call(elements, callbackFN);\r\n\t}\r\n\treturn [];\r\n}\r\nStatic.isIterable = function (obj) {\r\n\tif (obj === null || typeof obj != \"object\") {\r\n\t\treturn false;\r\n\t}\r\n\tif ( typeof Symbol == \"undefined\" ) {\r\n\t\treturn \"length\" in obj;\r\n\t}\r\n\treturn typeof obj[Symbol.iterator] === \"function\";\r\n}\r\nStatic.isArrayLike = function(item) {\r\n\treturn (\r\n\t\tArray.isArray(item) ||\r\n\t\t( !!item &&\r\n\t\t  typeof item === \"object\" &&\r\n\t\t  typeof (item.length) === \"number\" &&\r\n\t\t  (item.length === 0 ||\r\n\t\t\t (item.length > 0 &&\r\n\t\t\t (item.length - 1) in item)\r\n\t\t  )\r\n\t\t)\r\n\t);\r\n}\r\n\r\nStatic.loadStyle = function (url) {\r\n\treturn new Promise(function (resolve, reject) {\r\n\t\tvar element = document.createElement(\"link\");\r\n\t\t\telement.setAttribute(\"type\", \"text/css\");\r\n\t\t\telement.setAttribute(\"rel\", \"stylesheet\");\r\n\t\t\telement.onload = function () {\r\n\t\t\t\tif ( Static.debug ) {\r\n\t\t\t\t\tconsole.log(\"Static.loadStyle loaded\", url);\r\n\t\t\t\t}\r\n\t\t\t\tresolve(url);\r\n\t\t\t};\r\n\t\t\telement.onerror = function () {\r\n\t\t\t\treject(url);\r\n\t\t\t};\r\n\t\tdocument.head.appendChild(element);\r\n\t\telement.setAttribute(\"href\", url);\r\n\t});\r\n}\r\nStatic.loadScript = function (url) {\r\n\treturn new Promise(function (resolve, reject) {\r\n\t\tvar element = document.createElement(\"script\");\r\n\t\t\telement.setAttribute(\"async\", \"\");\r\n\t\t\telement.onload = function () {\r\n\t\t\t\tif ( Static.debug ) {\r\n\t\t\t\t\tconsole.log(\"Static.loadScript loaded\", url);\r\n\t\t\t\t}\r\n\t\t\t\tresolve(url);\r\n\t\t\t};\r\n\t\t\telement.onerror = function () {\r\n\t\t\t\treject(url);\r\n\t\t\t};\r\n\t\tdocument.body.appendChild(element);\r\n\t\telement.setAttribute(\"src\", url);\r\n\t});\r\n}\r\nStatic.doWhen = function (callback, conditionalCallback, interval) {\r\n\r\n\tvar privateWrapper = interval ? function (callback) {\r\n\t\tsetTimeout(callback, interval);\r\n\t} : requestAnimationFrame;\r\n\r\n\tvar onInterval = function () {\r\n\t\t!conditionalCallback() && privateWrapper(onInterval) || callback();\r\n\t}\r\n\tonInterval();\r\n}\r\nStatic.matches = function (string, regex) {\r\n\r\n\treturn string.match(regex) || [];\r\n}\r\nStatic.parseJSON = function( string ) {\r\n\tvar data;\r\n\ttry{\r\n\t\tdata = JSON.parse(string);\r\n\t} catch (e) {\r\n\t\tconsole.error(e);\r\n\t}\r\n\treturn data;\r\n}\r\nStatic.preventDefault = function (event) {\r\n\tevent.preventDefault();\r\n}\r\nStatic.http = {};\r\nStatic.http.getUrlParams = function() {\r\n\r\n\tvar params = {};\r\n\tvar query = document.location.search;\r\n\r\n\tif ( query.length ){\r\n\r\n\t\tquery = query.replace(/^\\?/,\"\");\r\n\t\tquery = query.replace(/#.*/,\"\");\r\n\t\tvar keyValues = query.split(\"&\");\r\n\r\n\t\tfor (var i = 0, keyValue; i < keyValues.length; i++) {\r\n\r\n\t\t\tkeyValue = keyValues[i].split(\"=\");\r\n\r\n\t\t\tif ( keyValue.length == 2 ){\r\n\r\n\t\t\t\tparams[ decodeURIComponent(keyValue[0]) ] = decodeURIComponent(keyValue[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn params;\r\n}\r\nStatic.http.request = function (url, onSuccess, onError, options) {\r\n\r\n\tvar xhr = new XMLHttpRequest();\r\n\r\n\toptions = options || {};\r\n\r\n\toptions.method = options.method || \"GET\";\r\n\txhr.open( options.method, url );\r\n\r\n\tfor (var prop in options) {\r\n\t\tif (options.hasOwnProperty(prop)) {\r\n\t\t\txhr[prop] = options[prop];\r\n\t\t}\r\n\t}\r\n\r\n\txhr.onload = function () {\r\n\t\tif ( Static.debug ) console.log('Static.requestUrl.onload', xhr);\r\n\r\n\t\tvar response = xhr.response;\r\n\r\n\t\tif ( xhr.responseType == \"json\" && typeof response != \"object\" ) {\r\n\t\t\tif ( Static.debug ) console.error( \"Static.request not getting json...\")\r\n\t\t\ttry{\r\n\t\t\t\tresponse = JSON.parse(xhr.responseText);\r\n\t\t\t} catch(e){\r\n\t\t\t\tif ( Static.debug ) console.error( \"Static.request error parsing json\", e)\r\n\t\t\t}\r\n\t\t}\r\n\t\tonSuccess(response);\r\n\t}\r\n\txhr.onerror = function () {\r\n\t\tif ( Static.debug ) console.log('Static.requestUrl.onerror', xhr);\r\n\t\tonError(xhr);\r\n\t}\r\n\txhr.send( options.data );\r\n}\r\nStatic.http.isSameHost = function isSameHost(href1, href2) {\r\n\r\n\tvar host1, host2;\r\n\r\n\tif ( typeof href1 == \"string\" ) {\r\n\t\tvar el = document.createElement(\"a\");\r\n\t\t\tel.setAttribute(\"href\", href1);\r\n\t\thost1 = el.host;\r\n\t} else if ( typeof href1 == \"object\" && href1 !== null && href1.host ) {\r\n\t\thost1 = href1.host;\r\n\t}\r\n\r\n\tif ( typeof href2 == \"string\" ) {\r\n\t\tvar el = document.createElement(\"a\");\r\n\t\t\tel.setAttribute(\"href\", href2);\r\n\t\thost2 = el.host;\r\n\t} else if ( typeof href2 == \"object\" && href2 !== null && href2.host ) {\r\n\t\thost2 = href2.host;\r\n\t}\r\n\r\n\tif ( host1 && host2 ) {\r\n\t\treturn host1 === host2;\r\n\t}\r\n}\r\nStatic.http.isSamePath = function(href1, href2) {\r\n\r\n\thref1 = href1.replace(/#.*$/, \"\").replace(/\\/$/, \"\"); // remove hash and trailing slash\r\n\thref2 = href2.replace(/#.*$/, \"\").replace(/\\/$/, \"\");\r\n\r\n\tif ( href1.length > href2.length ) {\r\n\r\n\t\tif (href1.lastIndexOf(href2) != (href1.length - href2.length)) {\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} else if (href2.lastIndexOf(href1) != (href2.length - href1.length)) {\r\n\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\nStatic.http.requestDom = function (url, onSuccess, onError, options) {\r\n\r\n\tvar xhr = new XMLHttpRequest();\r\n\r\n\toptions = options || {};\r\n\toptions.method = options.method || \"GET\";\r\n\r\n\txhr.open( options.method, url );\r\n\txhr.responseType = \"document\";\r\n\txhr.onload = function () {\r\n\t\tif ( Static.debug ) console.log('Static.requestUrl.onload', xhr);\r\n\t\tonSuccess(xhr.response);\r\n\t}\r\n\txhr.onerror = function () {\r\n\t\tif ( Static.debug ) console.log('Static.requestUrl.onerror', xhr);\r\n\t\tonError(xhr);\r\n\t}\r\n\txhr.send( options.data );\r\n}\r\n\r\nStatic.dom = {};\r\n\r\nStatic.dom._ready = function () {\r\n\tvar r = document.readyState;\r\n\treturn (r == \"complete\" || r == \"interactive\");\r\n}\r\nStatic.dom.ready = function (callback) {\r\n\tif ( Static.dom._ready() ) {\r\n\t\tcallback();\r\n\t} else {\r\n\t\tvar e;\r\n\t\te = function () {\r\n\t\t\tif ( Static.dom._ready() ) {\r\n\t\t\t\tcallback();\r\n\t\t\t\tdocument.removeEventListener(\"readystatechange\", e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdocument.addEventListener(\"readystatechange\", e);\r\n\t}\r\n}\r\nStatic.dom.style = function (element, properties, value) {\r\n\tif ( typeof properties == \"object\" ) {\r\n\t\tfor (prop in properties) {\r\n\t\t\tif (properties.hasOwnProperty(prop)) {\r\n\t\t\t\telement.style[prop] = properties[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t} else if ( typeof properties == \"string\" && value ) {\r\n\t\telement.style[properties] = value;\r\n\t}\r\n}\r\nStatic.dom.swapChildren = function(el1, el2) {\r\n\r\n\tif ( el1.parentNode != el2.parentNode ) return false;\r\n\r\n\tvar parent = el1.parentNode;\r\n\tvar i1, i2;\r\n\r\n\tfor (var i = 0; i < parent.children.length; i++) {\r\n\r\n\t\tif (parent.children[i].isEqualNode(el1)) {\r\n\t\t\ti1 = i;\r\n\t\t} else if (parent.children[i].isEqualNode(el2)) {\r\n\t\t\ti2 = i;\r\n\t\t}\r\n\t}\r\n\r\n\tparent.insertBefore(el1, el2);\r\n\r\n\tif (i1 < i2){\r\n\r\n\t\tparent.insertBefore(el2, parent.children[i1 - 1]);\r\n\t\tparent.insertBefore(document.createTextNode(\" \"), parent.children[i1 - 1]);\r\n\t} else {\r\n\r\n\t\tparent.insertBefore(el2, parent.children[i1 + 1]);\r\n\t\tparent.insertBefore(document.createTextNode(\" \"), parent.children[i1 + 1]);\r\n\t}\r\n}\r\nStatic.dom.insertAt = function ( element, parent, index ) {\r\n\r\n\tvar referenceElementAfter = parent.children[index - 1];\r\n\tif ( referenceElementAfter ) {\r\n\t\tif ( element == referenceElementAfter ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn Static.dom.insertAfter( element, parent.children[index - 1])\r\n\t}\r\n\r\n\tvar referenceElementBefore = parent.children[index];\r\n\tif ( referenceElementBefore ) {\r\n\t\tif ( element == referenceElementBefore ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn Static.dom.insertBefore( element, parent.children[0] )\r\n\t}\r\n\r\n\tparent.appendChild( element );\r\n}\r\nStatic.dom.insertAfter = function ( element, referenceElement ) {\r\n\tif ( referenceElement.nextElementSibling ) {\r\n\t\treturn Static.dom.insertBefore( element, referenceElement.nextElementSibling );\r\n\t} else {\r\n\t\tvar p = referenceElement.parentNode;\r\n\t\tif ( p ) {\r\n\t\t\treturn p.appendChild( element );\r\n\t\t}\r\n\t}\r\n}\r\nStatic.dom.insertBefore = function ( element, referenceElement ) {\r\n\tvar p = referenceElement.parentNode;\r\n\tif ( p ) {\r\n\t\treturn p.insertBefore( element, referenceElement );\r\n\t}\r\n}\r\nStatic.dom.removeNode = function ( node ) {\r\n\r\n\tvar parent = node.parentNode;\r\n\tif ( parent ) {\r\n\t\tparent.removeChild( node );\r\n\t}\r\n}\r\nStatic.dom.closest = function (el, selector) {\r\n\r\n\tvar closest;\r\n\tvar parent = el.parentNode;\r\n\twhile ( parent && !(closest = queryParent(parent, selector)) ){\r\n\t\tparent = parent.parentNode;\r\n\t}\r\n\r\n\tfunction queryParent(parent, selector) {\r\n\t\tvar all = parent.querySelectorAll(selector);\r\n\t\tall = Array.prototype.filter.call(all, isElementParentOrElement);\r\n\t\treturn all.length > 0 && all[0];\r\n\t}\r\n\r\n\tfunction isElementParentOrElement(parent) {\r\n\t\tvar child = el;\r\n\t\twhile ( child && child.parentNode != parent && child != parent ) {\r\n\t\t\tchild = child.parentNode;\r\n\t\t}\r\n\t\treturn child;\r\n\t}\r\n\r\n\treturn closest;\r\n}\r\nStatic.dom.indexOf = function (child, nodeList) {\r\n\r\n\tfor (var i = 0; i < nodeList.length; i++) {\r\n\t\tif ( child == nodeList[i] ) return i;\r\n\t}\r\n\treturn -1;\r\n}\r\nStatic.dom.closestOf = function (el, elements) {\r\n\r\n\twhile ( el != null ) {\r\n\r\n\t\tif ( Static.dom.contains(elements, el) ) {\r\n\t\t\treturn el;\r\n\t\t}\r\n\t\tel = el.parentNode;\r\n\t}\r\n}\r\nStatic.dom.contains = function(nodeList, node){\r\n\r\n\tif ( typeof nodeList.contains == \"function\" ) {\r\n\r\n\t\treturn nodeList.contains( node );\r\n\t}\r\n\tif ( !isNaN(nodeList.length) ) {\r\n\r\n\t\tfor (var i = 0; i < nodeList.length; i++) {\r\n\t\t\tif ( node == nodeList[i] ) return true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nStatic.dom.listeners = [];\r\n// features:\r\n// once parameter\r\n// resizeend even\r\nStatic.dom.attachListener = function (element, type, callback, capture, once) {\r\n\r\n\tvar callbackWrapper = function ( event ) {\r\n\t\tif ( once ) {\r\n\t\t\telement.removeEventListener( type, callbackWrapper, capture );\r\n\t\t}\r\n\t\tcallback.call( event.target, event );\r\n\t}\r\n\tStatic.dom.listeners.push({\r\n\t\telement: element,\r\n\t\ttype: type,\r\n\t\tcallback: callback,\r\n\t\tcallbackWrapper: callbackWrapper,\r\n\t\tcapture: capture\r\n\t});\r\n\telement.addEventListener( type, callbackWrapper, capture );\r\n\r\n\tif ( type == \"resizeend\" && !Static._onWindowResize ) {\r\n\r\n\t\tvar timeout = 0;\r\n\r\n\t\tStatic._onWindowResize = function (e) {\r\n\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\ttimeout = setTimeout(Static.dom._onResizeEnd, Static.dom.onResizeEndDelay)\r\n\t\t}\r\n\t\tStatic.dom.attachListener(window, \"resize\", Static._onWindowResize);\r\n\t}\r\n}\r\nStatic.dom.detachListener = function ( element, type, callback, capture ) {\r\n\r\n\tStatic.dom.listeners = (Static.dom.listeners || []).map(function (listener) {\r\n\r\n\t\tvar remove = true;\r\n\r\n\t\tif ( element && element !== listener.element ) {\r\n\t\t\tremove = false;\r\n\t\t}\r\n\r\n\t\tif ( type && type !== listener.type ) {\r\n\t\t\tremove = false;\r\n\t\t}\r\n\r\n\t\tif ( callback && callback !== listener.callback ) {\r\n\t\t\tremove = false;\r\n\t\t}\r\n\r\n\t\tif ( remove ) {\r\n\t\t\tlistener.element.removeEventListener( listener.type, listener.callbackWrapper, listener.capture );\r\n\t\t}\r\n\t\treturn remove;\r\n\t});\r\n}\r\n\r\nStatic.dom.onResizeEnd = function (callback) {\r\n\tif ( Static.debug ) console.warn(\"Static.dom.onResizeEnd is deprecated, use Static.dom.attachListener\");\r\n\tStatic.dom.attachListener( \"resizeend\", callback );\r\n}\r\nStatic.dom.onResizeEndDelay = 250;\r\nStatic.dom._onResizeEnd = function () {\r\n\tStatic.each(Static.dom.listeners, function (listener) {\r\n\t\tif ( listener.type == \"resizeend\" ) {\r\n\t\t\tlistener.callback();\r\n\t\t}\r\n\t});\r\n}\r\nStatic.dom.createEvent = function ( properties ) {\r\n\tvar event = null;\r\n\tvar type = (typeof properties == \"object\" ? properties.type : properties )\r\n\tif ( type ) {\r\n\t\tif ( typeof(Event) === \"function\" ) {\r\n\t\t\tevent = new Event(type);\r\n\t\t} else {\r\n\t\t\tevent = document.createEvent(\"Event\");\r\n\t\t\tevent.initEvent(type, true, true);\r\n\t\t}\r\n\t\tif ( typeof properties == \"object\" ) {\r\n\t\t\tfor (prop in properties) {\r\n\t\t\t\tif (properties.hasOwnProperty(prop)) {\r\n\t\t\t\t\tif ( prop != \"type\" ) {\r\n\t\t\t\t\t\tObject.defineProperty(event, prop, {value: properties[prop], enumerable: true});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn event;\r\n}\r\n\r\nif ( true ) {\r\n\tmodule.exports = Static;\r\n}\n\n//# sourceURL=webpack:///./node_modules/Static.js/Static.js?");

/***/ }),

/***/ "./src/js/index.js":
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var Static_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! Static.js */ \"./node_modules/Static.js/Static.js\");\n/* harmony import */ var Static_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(Static_js__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\nclass App {\r\n\r\n\tconstructor () {\r\n\r\n\t\tthis.log(\"constructor\");\r\n\r\n\t\tthis.STORAGE_KEY = \"heise-user-rating\";\r\n\t\tthis.state = {};\r\n\r\n\t\tthis.userbarUsers = null;\r\n\t\tthis.threadlistUsers = null;\r\n\r\n\t\tthis.debug = 0;\r\n\r\n\t\tthis.initialize();\r\n\t}\r\n\r\n\tlog () {\r\n\r\n\t\tif (this.debug) {\r\n\t\t\tvar a = Array.from(arguments);\r\n\t\t\t\ta.splice(0, 0, \"heise-user-rating\");\r\n\t\t\tconsole.log.apply(this, a);\r\n\t\t}\r\n\t}\r\n\r\n\tinitialize() {\r\n\r\n\t\tthis.log(\"initialize\", localStorage.getItem(this.STORAGE_KEY));\r\n\r\n\t\t// add event listeners\r\n\t\tconst btnRating = document.querySelectorAll(\".rating_post\");\r\n\t\tfor (var i = 0; i < btnRating.length; i++) {\r\n\t\t\tif (getComputedStyle(btnRating[i]).backgroundColor == \"rgb(255, 255, 255)\" ){ // not :visited\r\n\t\t\t\tbtnRating[i].addEventListener(\"click\", this.onBtnRatingClick.bind(this));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.userbarUsers = document.querySelectorAll(\".author.userbar_list li .pseudonym\");\r\n\t\tthis.threadlistUsers = document.querySelectorAll(\"#tree_thread_list .tree_thread_list--written_by_user\");\r\n\r\n\t\tconst storage = localStorage.getItem(this.STORAGE_KEY);\r\n\t\tif (storage) {\r\n\t\t\tthis.state = JSON.parse(storage);\r\n\t\t\tthis.onStateChange();\r\n\t\t}\r\n\r\n\t\tthis.injectCss();\r\n\t}\r\n\r\n\tinjectCss() {\r\n\t\tvar style = document.createElement(\"style\");\r\n\t\t\tstyle.setAttribute(\"rel\", \"stylesheet\");\r\n\t\t\tstyle.innerHTML = `\r\n\t\t.tree_thread_list--time + .tree_thread_list--written_by_user{\r\n\t\t\tmargin-right: 38px;\r\n\t\t}`;\r\n\t\tdocument.head.appendChild(style);\r\n\t}\r\n\r\n\r\n\tonBtnRatingClick( event ) {\r\n\r\n\t\tthis.log(\"onBtnRatingClick\");\r\n\t\tconst elBtn = event.target;\r\n\t\tconst elBtnWrapper = Static_js__WEBPACK_IMPORTED_MODULE_0___default.a.dom.closest(elBtn, \".rating_buttons_wrapper\");\r\n\t\tif (elBtnWrapper) {\r\n\r\n\t\t\tconst elPosting = elBtnWrapper.previousElementSibling;\r\n\t\t\tif (elPosting && elPosting.getAttribute(\"data-posting-version\") !== null) {\r\n\r\n\t\t\t\tconst elUser = elPosting.querySelector(\".full_user_string .pseudonym\");\r\n\t\t\t\tif (elUser) {\r\n\r\n\t\t\t\t\tif (elBtn.classList.contains(\"positive\")) {\r\n\t\t\t\t\t\tthis.rateUser( elUser.textContent, 1 );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (elBtn.classList.contains(\"negative\")) {\r\n\t\t\t\t\t\tthis.rateUser( elUser.textContent, -1 );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trateUser( user, rating ) {\r\n\r\n\t\tthis.log(\"rateUser\", user, rating, this.state);\r\n\r\n\t\tif (!this.state[user]) {\r\n\t\t\tthis.state[user] = 6; // neutral rating\r\n\t\t}\r\n\t\tthis.state[user] += rating;\r\n\t\tthis.state[user] = Math.max(this.state[user], 1);\r\n\t\tthis.state[user] = Math.min(this.state[user], 11);\r\n\r\n\t\tthis.onStateChange();\r\n\t}\r\n\r\n\tonStateChange( ) {\r\n\r\n\t\tthis.log(\"onStateChange\", this.state);\r\n\r\n\t\tlocalStorage.setItem(this.STORAGE_KEY, JSON.stringify(this.state));\r\n\r\n\t\tthis.render();\r\n\t}\r\n\r\n\tcreateUserRatingElement( rating ) {\r\n\r\nthis.log(\"createUserRatingElement\", rating);\r\n\t\tconst elUserRating = document.createElement(\"span\");\r\n\t\telUserRating.classList.add(\"rating\");\r\n\t\telUserRating.style.display = \"inline\";\r\n\r\n\t\tconst elUserRatingImg = document.createElement(\"img\");\r\n\t\telUserRatingImg.style.float = \"none\";\r\n\t\telUserRatingImg.style.verticalAlign = \"baseline\";\r\n\t\telUserRatingImg.style.marginLeft = \".5em\";\r\n\t\telUserRatingImg.setAttribute(\"src\", \"/icons/forum/wertung_\" + rating + \".gif\");\r\n\r\n\t\tif ( this.debug ) {\r\n\t\t\telUserRatingImg.setAttribute(\"src\", \"Vielleicht könnte man ja mal anfangen... _ Forum - heise online_files/icons/forum/wertung_4.gif\");\r\n\t\t}\r\n\t\telUserRating.appendChild(elUserRatingImg);\r\nthis.log(\"createUserRatingElement el\", elUserRating);\r\n\r\n\t\treturn elUserRating;\r\n\t}\r\n\r\n\tgetUserRating ( userName ) {\r\n\r\n\t\tlet userRating = this.state[userName];\r\n\r\n\t\tif ( this.debug && userName == \"hgzi\" ) userRating = 4;\r\n\r\n\t\tthis.log(\"getUserRating\", userName, userRating);\r\n\r\n\t\treturn userRating;\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tthis.log(\"render\");\r\n\r\n\t\tStatic_js__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.threadlistUsers, elUser => {\r\nthis.log(\"threadlistUsers\");\r\n\t\t\tconst hasUserRatingElement = elUser.querySelector(\".span.rating\");\r\n\r\nthis.log(\"threadlistUsers hasUserRatingElement\", hasUserRatingElement);\r\n\r\n\t\t\tif (!hasUserRatingElement) {\r\n\t\t\t\tconst userName = elUser.textContent.trim();\r\n\t\t\t\tconst userRating = this.getUserRating(userName);\r\n\r\n\t\t\t\tthis.log(\"render threadlistUsers userName && userRating\", userName ,userRating);\r\n\r\n\t\t\t\tif (userRating) {\r\n\r\n\t\t\t\t\tconst elUserRating = this.createUserRatingElement(userRating);\r\n\t\t\t\t\telUserRating.style.float = \"right\";\r\n\t\t\t\tthis.log(\"render threadlistUsers elUserRating\", elUserRating);\r\n\r\n\r\n\t\t\t\t\tStatic_js__WEBPACK_IMPORTED_MODULE_0___default.a.dom.insertBefore(elUserRating, elUser);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tStatic_js__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.userbarUsers, elUser => {\r\nthis.log(\"userbarUsers\");\r\n\r\n\t\t\tconst hasUserRatingElement = elUser.querySelector(\".span.rating\");\r\n\t\t\tif (!hasUserRatingElement) {\r\n\r\n\t\t\t\tconst userName = elUser.textContent;\r\n\t\t\t\tconst userRating = this.getUserRating(userName);\r\n\r\n\t\t\t\tthis.log(\"render userbarUsers userName && userRating\", userName ,userRating);\r\n\r\n\t\t\t\tif (userRating) {\r\n\r\n\t\t\t\t\tconst elUserRating = this.createUserRatingElement(userRating);\r\n\t\t\t\t\telUser.parentNode.appendChild(elUserRating);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (new App());\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/index.js?");

/***/ })

/******/ });